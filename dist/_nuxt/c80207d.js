(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{324:function(t,e,r){"use strict";var n=r(2),o=r(72).find,l=r(152),c="find",d=!0;c in[]&&Array(1)[c]((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),l(c)},326:function(t,e,r){"use strict";var n=r(2),o=r(219).trim;n({target:"String",proto:!0,forced:r(327)("trim")},{trim:function(){return o(this)}})},327:function(t,e,r){"use strict";var n=r(93).PROPER,o=r(4),l=r(220);t.exports=function(t){return o((function(){return!!l[t]()||"​᠎"!=="​᠎"[t]()||n&&l[t].name!==t}))}},359:function(t,e,r){var content=r(393);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(92).default)("5ceac127",content,!0,{sourceMap:!1})},392:function(t,e,r){"use strict";r(359)},393:function(t,e,r){var n=r(91)((function(i){return i[1]}));n.push([t.i,'.material-icons[data-v-be6ac528]{display:inline-block;font-family:"Material Icons";font-size:24px;font-style:normal;font-weight:400;letter-spacing:normal;line-height:1;text-transform:none;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}',""]),n.locals={},t.exports=n},404:function(t,e,r){"use strict";r.r(e);r(35),r(36),r(70),r(71),r(51),r(31);var n=r(14),o=r(25),l=(r(41),r(324),r(155),r(53),r(16),r(326),r(94),r(69),r(74)),c=r(323),d=r(330),v=r(329);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){Object(o.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h={components:{Sidebar:c.a,PlayerBar:d.a},data:function(){return{userName:null,userProfile:null,recentlyPlayed:[],userPlaylists:[],recommendations:[],searchQuery:"",searchResults:{artists:{items:[]},tracks:{items:[]},playlists:{items:[]}},searchTimeout:null,greetingMessage:"",showAddToPlaylistModal:!1,selectedTrack:null}},mounted:function(){if(!localStorage.getItem("spotify_access_token"))return console.error("Token non disponible. Veuillez vous reconnecter."),void this.$router.push("/login");this.setGreetingMessage(),this.loadUserProfile(),this.loadRecentlyPlayed(),this.loadLibrary(),this.getRecommendations(),this.$root.$on("player-ready",this.handlePlayerReady),this.$root.$on("player-not-ready",this.handlePlayerNotReady),this.$root.$on("player-state-changed",this.handlePlayerStateChanged)},beforeDestroy:function(){this.$root.$off("player-ready",this.handlePlayerReady),this.$root.$off("player-not-ready",this.handlePlayerNotReady),this.$root.$off("player-state-changed",this.handlePlayerStateChanged)},methods:f(f({},Object(l.c)(["setDeviceId"])),{},{loadUserProfile:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("spotify_access_token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$axios.$get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(r)}});case 6:n=e.sent,t.userName=n.display_name,t.userProfile=n,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error loading user profile:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},loadRecentlyPlayed:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("spotify_access_token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$axios.$get("https://api.spotify.com/v1/me/player/recently-played?limit=20",{headers:{Authorization:"Bearer ".concat(r)}});case 6:n=e.sent,t.recentlyPlayed=n.items.map((function(t){return t.track})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error loading recently played:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},loadLibrary:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=localStorage.getItem("spotify_access_token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$axios.$get("https://api.spotify.com/v1/me/playlists",{headers:{Authorization:"Bearer ".concat(r)},params:{limit:50}});case 6:(n=e.sent)&&n.items&&(t.userPlaylists=n.items.filter((function(t){return null!==t}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error loading library:",e.t0),t.userPlaylists=[];case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},getRecommendations:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("spotify_access_token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.$axios.$get("https://api.spotify.com/v1/me/top/artists",{headers:{Authorization:"Bearer ".concat(n)},params:{limit:5,time_range:"medium_term"}});case 6:if(null!=(o=e.sent)&&null!==(r=o.items)&&void 0!==r&&r.length){e.next=10;break}return console.error("No top artists found"),e.abrupt("return");case 10:if((l=o.items.map((function(t){return t.id})).filter((function(t){return null!==t}))).length){e.next=14;break}return console.error("No valid artist IDs found"),e.abrupt("return");case 14:return e.next=16,t.$axios.$get("https://api.spotify.com/v1/recommendations",{headers:{Authorization:"Bearer ".concat(n)},params:{seed_artists:l.join(","),limit:10}});case 16:null!=(c=e.sent)&&c.tracks&&(t.recommendations=c.tracks.filter((function(track){return null!==track}))),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),console.error("Error getting recommendations:",e.t0),t.recommendations=[];case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))()},playTrack:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=localStorage.getItem("spotify_access_token"),o=localStorage.getItem("spotify_device_id"),n&&o){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,e.$axios.$put("https://api.spotify.com/v1/me/player/play?device_id=".concat(o),{uris:[t]},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error("Error playing track:",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},playPlaylist:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n=localStorage.getItem("spotify_access_token"),o=localStorage.getItem("spotify_device_id"),n&&o){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,e.$axios.$put("https://api.spotify.com/v1/me/player/play?device_id=".concat(o),{context_uri:t},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.error("Error playing playlist:",r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},handleSearch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.searchTimeout&&clearTimeout(t.searchTimeout),t.searchQuery.trim()){e.next=4;break}return t.searchResults={artists:{items:[]},tracks:{items:[]},playlists:{items:[]}},e.abrupt("return");case 4:t.searchTimeout=setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("spotify_access_token"),e.next=4,t.$axios.$get("https://api.spotify.com/v1/search",{headers:{Authorization:"Bearer ".concat(r)},params:{q:t.searchQuery,type:"artist,track,playlist",limit:5}});case 4:n=e.sent,t.searchResults=n,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error searching:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),300);case 5:case"end":return e.stop()}}),e)})))()},setGreetingMessage:function(){var t=(new Date).getHours();this.greetingMessage=t<12?"Bonjour":t<18?"Bon après-midi":"Bonsoir"},handlePlayerReady:function(t){console.log("Player is ready on device:",t)},handlePlayerNotReady:function(t){console.log("Player is not ready on device:",t)},handlePlayerStateChanged:function(t){console.log("Player state changed:",t)},openAddToPlaylistModal:function(track){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.selectedTrack=track,t.showAddToPlaylistModal=!0,e.next=5,t.loadLibrary();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error opening add to playlist modal:",e.t0),t.$toast.error("Erreur lors de l'ouverture de la modal");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addTrackToPlaylist:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(v.a)();case 3:if((n=r.sent)&&e.selectedTrack){r.next=7;break}return e.$toast.error("Erreur lors de l'ajout à la playlist"),r.abrupt("return");case 7:return r.next=9,e.$axios.$post("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),{uris:[e.selectedTrack.uri]},{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 9:return(o=e.userPlaylists.find((function(p){return p.id===t})))&&(o.tracks.total=(o.tracks.total||0)+1),e.$toast.success("Titre ajouté à la playlist"),e.showAddToPlaylistModal=!1,e.selectedTrack=null,r.next=16,e.loadLibrary();case 16:r.next=35;break;case 18:if(r.prev=18,r.t0=r.catch(0),console.error("Error adding track to playlist:",r.t0),e.$toast.error("Erreur lors de l'ajout à la playlist"),401!==(null===(l=r.t0.response)||void 0===l?void 0:l.status)){r.next=35;break}return r.prev=23,r.next=26,Object(v.a)();case 26:return r.next=28,e.addTrackToPlaylist(t);case 28:r.next=35;break;case 30:r.prev=30,r.t1=r.catch(23),console.error("Error refreshing token:",r.t1),e.$toast.error("Session expirée. Veuillez vous reconnecter."),e.$router.push("/login");case 35:case"end":return r.stop()}}),r,null,[[0,18],[23,30]])})))()},logout:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expires_at"),localStorage.removeItem("spotify_device_id"),t.$router.push("/login")}catch(e){console.error("Error during logout:",e),t.$toast.error("Erreur lors de la déconnexion")}case 1:case"end":return e.stop()}}),e)})))()}})},y=(r(392),r(49)),component=Object(y.a)(h,(function(){var t,e,n,o,l=this,c=l._self._c;return c("div",{staticClass:"flex h-screen bg-gradient-to-br from-black via-[#2d0036] to-[#1a0022] text-white"},[c("Sidebar"),l._v(" "),c("main",{staticClass:"flex-1 overflow-y-auto"},[c("div",{staticClass:"p-4 bg-black/80 flex justify-end items-center border-b border-pink-900"},[c("div",{staticClass:"flex items-center space-x-4"},[c("div",{staticClass:"flex items-center space-x-2"},[c("img",{staticClass:"w-8 h-8 rounded-full border-2 border-pink-400 shadow-pink-400/40 shadow",attrs:{src:(null===(t=l.userProfile)||void 0===t||null===(t=t.images)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)||r(316),alt:l.userName}}),l._v(" "),c("span",{staticClass:"text-pink-200"},[l._v(l._s(l.userName))])]),l._v(" "),c("button",{staticClass:"bg-gradient-to-r from-pink-500 via-fuchsia-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 text-white px-4 py-2 rounded-full flex items-center shadow-lg hover:shadow-pink-500/40 focus:outline-none focus:ring-4 focus:ring-pink-400",on:{click:l.logout}},[c("i",{staticClass:"material-icons mr-2"},[l._v("logout")]),l._v("\n          Déconnexion\n        ")])])]),l._v(" "),l.searchResults.length>0?c("div",{staticClass:"p-8"},[c("h2",{staticClass:"text-2xl font-bold mb-4 text-pink-300"},[l._v("Résultats de recherche")]),l._v(" "),null!==(e=l.searchResults.artists)&&void 0!==e&&e.items.length?c("div",{staticClass:"mb-8"},[c("h3",{staticClass:"text-xl font-semibold mb-4 text-pink-200"},[l._v("Artistes")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.searchResults.artists.items,(function(t){var e;return c("div",{key:t.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded-full border-2 border-pink-400",attrs:{src:(null===(e=t.images[0])||void 0===e?void 0:e.url)||r(316),alt:t.name}}),l._v(" "),c("h3",{staticClass:"text-lg font-semibold text-center text-pink-100"},[l._v(l._s(t.name))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm text-center"},[l._v("Artiste")])])})),0)]):l._e(),l._v(" "),null!==(n=l.searchResults.tracks)&&void 0!==n&&n.items.length?c("div",{staticClass:"mb-8"},[c("h3",{staticClass:"text-xl font-semibold mb-4 text-pink-200"},[l._v("Chansons")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.searchResults.tracks.items,(function(track){var t,e;return c("div",{key:track.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("div",{staticClass:"relative group"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded border-2 border-pink-400",attrs:{src:(null===(t=track.album.images[0])||void 0===t?void 0:t.url)||r(316),alt:track.name}}),l._v(" "),c("div",{staticClass:"absolute bottom-2 right-2 flex space-x-2"},[c("button",{staticClass:"bg-gradient-to-r from-pink-500 to-purple-500 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg shadow-pink-500/40",on:{click:function(t){return l.playTrack(track.uri)}}},[c("i",{staticClass:"material-icons"},[l._v("play_arrow")])]),l._v(" "),c("button",{staticClass:"bg-black/70 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 border border-pink-400",on:{click:function(t){return l.openAddToPlaylistModal(track)}}},[c("i",{staticClass:"material-icons"},[l._v("playlist_add")])])])]),l._v(" "),c("h3",{staticClass:"text-lg font-semibold text-pink-100"},[l._v(l._s(track.name))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm"},[l._v(l._s(null===(e=track.artists[0])||void 0===e?void 0:e.name))])])})),0)]):l._e(),l._v(" "),null!==(o=l.searchResults.playlists)&&void 0!==o&&o.items.length?c("div",{staticClass:"mb-8"},[c("h3",{staticClass:"text-xl font-semibold mb-4 text-pink-200"},[l._v("Playlists")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.searchResults.playlists.items,(function(t){var e;return c("div",{key:t.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded border-2 border-pink-400",attrs:{src:(null===(e=t.images[0])||void 0===e?void 0:e.url)||r(316),alt:t.name}}),l._v(" "),c("h3",{staticClass:"text-lg font-semibold text-pink-100"},[l._v(l._s(t.name))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm"},[l._v("Par "+l._s(t.owner.display_name))]),l._v(" "),c("button",{staticClass:"mt-2 w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 text-white py-2 px-4 rounded-full flex items-center justify-center font-bold shadow-lg shadow-pink-500/40",on:{click:function(e){return l.playPlaylist(t.uri)}}},[c("i",{staticClass:"material-icons mr-2"},[l._v("play_arrow")]),l._v("\n              LIRE\n            ")])])})),0)]):l._e()]):c("section",{staticClass:"p-8 bg-gradient-to-b from-black/80 via-[#2d0036]/80 to-[#1a0022]/90"},[c("div",{staticClass:"mb-6"},[c("h1",{staticClass:"text-3xl font-bold text-pink-200"},[l._v("\n          "+l._s(l.greetingMessage)+", "+l._s(l.userName||"utilisateur")+" !\n        ")])]),l._v(" "),l.recentlyPlayed&&l.recentlyPlayed.length?c("div",{staticClass:"mb-8"},[c("h2",{staticClass:"text-2xl font-bold mb-4 text-pink-300"},[l._v("Écoutés récemment")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.recentlyPlayed,(function(track){var t,e;return c("div",{key:track.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("div",{staticClass:"relative group"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded border-2 border-pink-400",attrs:{src:(null==track||null===(t=track.album)||void 0===t||null===(t=t.images)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)||r(316),alt:(null==track?void 0:track.name)||"Unknown track"}}),l._v(" "),c("div",{staticClass:"absolute bottom-2 right-2 flex space-x-2"},[c("button",{staticClass:"bg-gradient-to-r from-pink-500 to-purple-500 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg shadow-pink-500/40",on:{click:function(t){return l.playTrack(track.uri)}}},[c("i",{staticClass:"material-icons"},[l._v("play_arrow")])]),l._v(" "),c("button",{staticClass:"bg-black/70 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 border border-pink-400",on:{click:function(t){return l.openAddToPlaylistModal(track)}}},[c("i",{staticClass:"material-icons"},[l._v("playlist_add")])])])]),l._v(" "),c("h3",{staticClass:"text-lg font-semibold truncate text-pink-100"},[l._v(l._s((null==track?void 0:track.name)||"Unknown track"))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm truncate"},[l._v(l._s((null==track||null===(e=track.artists)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.name)||"Unknown artist"))])])})),0)]):l._e(),l._v(" "),l.userPlaylists&&l.userPlaylists.length?c("div",{staticClass:"mb-8"},[c("h2",{staticClass:"text-2xl font-bold mb-4 text-pink-300"},[l._v("Vos Playlists")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.userPlaylists,(function(t){var e,n;return c("div",{key:t.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("div",{staticClass:"relative group"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded border-2 border-pink-400",attrs:{src:(null==t||null===(e=t.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url)||r(316),alt:(null==t?void 0:t.name)||"Unknown playlist"}}),l._v(" "),c("div",{staticClass:"absolute bottom-2 right-2 flex space-x-2"},[c("button",{staticClass:"bg-gradient-to-r from-pink-500 to-purple-500 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg shadow-pink-500/40",on:{click:function(e){return l.playPlaylist(t.uri)}}},[c("i",{staticClass:"material-icons"},[l._v("play_arrow")])])])]),l._v(" "),c("h3",{staticClass:"text-lg font-semibold truncate text-pink-100"},[l._v(l._s((null==t?void 0:t.name)||"Unknown playlist"))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm truncate"},[l._v(l._s((null==t||null===(n=t.tracks)||void 0===n?void 0:n.total)||0)+" titres")]),l._v(" "),c("button",{staticClass:"mt-2 w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 text-white py-2 px-4 rounded-full flex items-center justify-center font-bold shadow-lg shadow-pink-500/40",on:{click:function(e){return l.playPlaylist(t.uri)}}},[c("i",{staticClass:"material-icons mr-2"},[l._v("play_arrow")]),l._v("\n              LIRE\n            ")])])})),0)]):l._e(),l._v(" "),l.recommendations&&l.recommendations.length?c("div",{staticClass:"mb-8"},[c("h2",{staticClass:"text-2xl font-bold mb-4 text-pink-300"},[l._v("Recommandations pour vous")]),l._v(" "),c("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},l._l(l.recommendations,(function(track){var t,e;return c("div",{key:track.id,staticClass:"bg-black/70 p-4 rounded-2xl hover:bg-pink-900/30 transition duration-200 ease-in-out transform hover:scale-105 shadow-lg shadow-pink-900/10"},[c("div",{staticClass:"relative group"},[c("img",{staticClass:"w-full h-40 object-cover mb-2 rounded border-2 border-pink-400",attrs:{src:(null==track||null===(t=track.album)||void 0===t||null===(t=t.images)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.url)||r(316),alt:(null==track?void 0:track.name)||"Unknown track"}}),l._v(" "),c("div",{staticClass:"absolute bottom-2 right-2 flex space-x-2"},[c("button",{staticClass:"bg-gradient-to-r from-pink-500 to-purple-500 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 shadow-lg shadow-pink-500/40",on:{click:function(t){return l.playTrack(track.uri)}}},[c("i",{staticClass:"material-icons"},[l._v("play_arrow")])]),l._v(" "),c("button",{staticClass:"bg-black/70 p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 border border-pink-400",on:{click:function(t){return l.openAddToPlaylistModal(track)}}},[c("i",{staticClass:"material-icons"},[l._v("playlist_add")])])])]),l._v(" "),c("h3",{staticClass:"text-lg font-semibold truncate text-pink-100"},[l._v(l._s((null==track?void 0:track.name)||"Unknown track"))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm truncate"},[l._v(l._s((null==track||null===(e=track.artists)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.name)||"Unknown artist"))])])})),0)]):l._e()])]),l._v(" "),c("PlayerBar"),l._v(" "),l.showAddToPlaylistModal?c("div",{staticClass:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},[c("div",{staticClass:"bg-black/90 p-6 rounded-2xl w-full max-w-md border border-pink-900 shadow-lg shadow-pink-900/20"},[c("h2",{staticClass:"text-2xl font-bold mb-4 text-pink-300"},[l._v("Ajouter à une playlist")]),l._v(" "),l.userPlaylists&&l.userPlaylists.length>0?c("div",{staticClass:"space-y-4 max-h-96 overflow-y-auto"},l._l(l.userPlaylists,(function(t){var e,n;return c("div",{key:t.id,staticClass:"flex items-center justify-between p-2 hover:bg-pink-900/30 rounded"},[c("div",{staticClass:"flex items-center"},[c("img",{staticClass:"w-12 h-12 object-cover rounded mr-4 border-2 border-pink-400",attrs:{src:(null==t||null===(e=t.images)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.url)||r(316),alt:(null==t?void 0:t.name)||"Unknown playlist"}}),l._v(" "),c("div",[c("h3",{staticClass:"font-semibold text-pink-100"},[l._v(l._s((null==t?void 0:t.name)||"Unknown playlist"))]),l._v(" "),c("p",{staticClass:"text-pink-300 text-sm"},[l._v(l._s((null==t||null===(n=t.tracks)||void 0===n?void 0:n.total)||0)+" titres")])])]),l._v(" "),c("button",{staticClass:"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 text-white px-4 py-2 rounded-full shadow-lg shadow-pink-500/40",on:{click:function(e){return l.addTrackToPlaylist(t.id)}}},[l._v("\n            Ajouter\n          ")])])})),0):c("div",{staticClass:"text-center py-4"},[c("p",{staticClass:"text-pink-300"},[l._v("Aucune playlist disponible")])]),l._v(" "),c("div",{staticClass:"mt-6 flex justify-end"},[c("button",{staticClass:"px-4 py-2 text-pink-200 hover:text-pink-100",on:{click:function(t){l.showAddToPlaylistModal=!1}}},[l._v("\n          Fermer\n        ")])])])]):l._e()],1)}),[],!1,null,"be6ac528",null);e.default=component.exports}}]);