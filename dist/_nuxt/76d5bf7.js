(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{358:function(e,r,t){var content=t(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(92).default)("60540522",content,!0,{sourceMap:!1})},390:function(e,r,t){"use strict";t(358)},391:function(e,r,t){var o=t(91)((function(i){return i[1]}));o.push([e.i,'.result[data-v-f2e472b8]{border-radius:.5rem;margin-bottom:1rem;--tw-bg-opacity:1;background-color:#1f2937;background-color:rgba(31,41,55,var(--tw-bg-opacity,1));padding:1rem;transition-duration:.2s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.result[data-v-f2e472b8]:hover{--tw-bg-opacity:1;background-color:#374151;background-color:rgba(55,65,81,var(--tw-bg-opacity,1))}.result button[data-v-f2e472b8]{border-radius:9999px;margin-top:.5rem;--tw-bg-opacity:1;background-color:#22c55e;background-color:rgba(34,197,94,var(--tw-bg-opacity,1));padding:.25rem 1rem;--tw-text-opacity:1;color:#fff;color:rgba(255,255,255,var(--tw-text-opacity,1))}.result button[data-v-f2e472b8]:hover{--tw-bg-opacity:1;background-color:#16a34a;background-color:rgba(22,163,74,var(--tw-bg-opacity,1))}.material-icons[data-v-f2e472b8]{display:inline-block;font-family:"Material Icons";font-size:24px;font-style:normal;font-weight:400;letter-spacing:normal;line-height:1;text-transform:none;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}',""]),o.locals={},e.exports=o},403:function(e,r,t){"use strict";t.r(r);t(35),t(26),t(153),t(36),t(41),t(70),t(71),t(51),t(16),t(31);var o=t(14),n=t(25),c=(t(75),t(69),t(74)),l=t(323),d=t(330);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}var f={components:{Sidebar:l.a,PlayerBar:d.a},data:function(){return{query:"",results:null,loading:!1,categories:[],categoriesLoading:!1}},computed:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach((function(r){Object(n.a)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},Object(c.b)(["getDeviceId"])),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.categoriesLoading=!0,r.prev=1,r.next=4,e.loadCategories();case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),console.error("Error in mounted:",r.t0);case 9:return r.prev=9,e.categoriesLoading=!1,r.finish(9);case 12:case"end":return r.stop()}}),r,null,[[1,6,9,12]])})))()},methods:{loadCategories:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t=localStorage.getItem("spotify_access_token")){r.next=6;break}return console.error("Token non trouvé : redirection vers la connexion."),e.$router.push("/login"),r.abrupt("return");case 6:return console.log("Loading categories with token:",t.substring(0,10)+"..."),r.next=9,e.$axios.$get("https://api.spotify.com/v1/browse/categories",{params:{limit:20,country:"FR"},headers:{Authorization:"Bearer ".concat(t)}});case 9:o=r.sent,console.log("Categories response:",o),o&&o.categories&&o.categories.items?(e.categories=o.categories.items,console.log("Categories loaded:",e.categories.length)):console.error("Invalid response format:",o),r.next=19;break;case 14:r.prev=14,r.t0=r.catch(0),console.error("Erreur lors du chargement des catégories:",r.t0),r.t0.response&&(console.error("Response data:",r.t0.response.data),console.error("Response status:",r.t0.response.status)),e.$toast.error("Erreur lors du chargement des catégories");case 19:case"end":return r.stop()}}),r,null,[[0,14]])})))()},browseCategory:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var o,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=localStorage.getItem("spotify_access_token")){t.next=6;break}return console.error("Token non trouvé : redirection vers la connexion."),r.$router.push("/login"),t.abrupt("return");case 6:return t.next=8,r.$axios.$get("https://api.spotify.com/v1/browse/categories/".concat(e,"/playlists"),{params:{limit:20},headers:{Authorization:"Bearer ".concat(o)}});case 8:n=t.sent,r.results=n.playlists.items,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Erreur lors du chargement des playlists de la catégorie :",(null===(c=t.t0.response)||void 0===c?void 0:c.data)||t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},search:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o,n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.loading=!0,r.prev=1,o=localStorage.getItem("spotify_access_token")){r.next=7;break}return console.error("Token non trouvé : redirection vers la connexion."),e.$router.push("/login"),r.abrupt("return");case 7:return r.next=9,e.$axios.$get("https://api.spotify.com/v1/search",{params:{q:e.query,type:"track"},headers:{Authorization:"Bearer ".concat(o)}});case 9:n=r.sent,e.results=(null===(t=n.tracks)||void 0===t?void 0:t.items)||[],r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.error("Erreur lors de la recherche :",(null===(c=r.t0.response)||void 0===c?void 0:c.data)||r.t0.message);case 16:return r.prev=16,e.loading=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[1,13,16,19]])})))()},playTrack:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var o,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=localStorage.getItem("spotify_access_token"),n=r.getDeviceId){t.next=6;break}return console.error("Device ID non disponible. Le lecteur n'est pas prêt."),t.abrupt("return");case 6:return t.next=8,r.$axios.$put("https://api.spotify.com/v1/me/player/play?device_id=".concat(n),{uris:[e]},{headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});case 8:console.log("Lecture démarrée pour ".concat(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Erreur lors de la lecture du morceau :",(null===(c=t.t0.response)||void 0===c?void 0:c.data)||t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))()},categoryColor:function(e){var r={musique:"#e13300",podcasts:"#1e3264","événements live":"#8d67ab","conçu spécialement pour vous":"#477d95","dernières sorties":"#537a3a",pop:"#148a08","hip-hop":"#bc5900",arabe:"#e8115b",afro:"#b02897",classements:"#8c67ab","contenu éducatif":"#477d95",documentaires:"#503750",humour:"#e8115b","pop culture":"#b02897",rock:"#148a08",latino:"#e13300"},t=e.name.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(r[t])return r[t];for(var o=0,i=0;i<t.length;i++)o=t.charCodeAt(i)+((o<<5)-o);var n=Math.abs(o)%360;return"hsl(".concat(n,", 60%, 65%)")}}},m=f,h=(t(390),t(49)),component=Object(h.a)(m,(function(){var e=this,r=e._self._c;return r("div",{staticClass:"flex h-screen bg-black text-white"},[r("Sidebar"),e._v(" "),r("main",{staticClass:"flex-1 overflow-y-auto"},[r("div",{staticClass:"p-4 bg-gray-900"},[r("div",{staticClass:"relative"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],staticClass:"w-full px-4 py-2 bg-gray-800 text-white rounded-full focus:outline-none focus:ring-2 focus:ring-green-500",attrs:{placeholder:"Recherchez des artistes, albums ou morceaux"},domProps:{value:e.query},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.search.apply(null,arguments)},input:function(r){r.target.composing||(e.query=r.target.value)}}}),e._v(" "),e._m(0)])]),e._v(" "),e.query?e._e():r("div",{staticClass:"p-8"},[r("h2",{staticClass:"text-2xl font-bold mb-6"},[e._v("Parcourir tout")]),e._v(" "),e.categoriesLoading?r("div",{staticClass:"text-center py-8"},[r("p",{staticClass:"text-gray-400"},[e._v("Chargement des catégories...")])]):0===e.categories.length?r("div",{staticClass:"text-center py-8"},[r("p",{staticClass:"text-gray-400"},[e._v("Aucune catégorie trouvée")])]):r("div",{staticClass:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6"},e._l(e.categories,(function(t){return r("div",{key:t.id,staticClass:"rounded-2xl border-4 border-red-500 bg-yellow-300 text-black flex items-center justify-center",staticStyle:{"min-height":"160px","font-size":"2rem"}},[e._v("\n          TEST\n        ")])})),0)]),e._v(" "),e.results?r("div",{staticClass:"p-8"},e._l(e.results,(function(t){var o;return r("div",{key:t.id,staticClass:"result"},[r("p",[e._v(e._s(t.name))]),e._v(" "),t.artists?r("p",[e._v("\n          Artiste :\n          "),r("span",{staticClass:"text-pink-300 text-sm cursor-pointer hover:underline",on:{click:function(r){var o;return e.$router.push("/artist/".concat(null===(o=t.artists[0])||void 0===o?void 0:o.id))}}},[e._v("\n            "+e._s(null===(o=t.artists[0])||void 0===o?void 0:o.name)+"\n          ")])]):e._e(),e._v(" "),r("button",{on:{click:function(r){return e.playTrack(t.uri)}}},[e._v("Lire")])])})),0):e.loading?r("div",{staticClass:"p-8"},[e._v("Recherche en cours...")]):e._e(),e._v(" "),r("PlayerBar")],1)],1)}),[function(){var e=this._self._c;return e("span",{staticClass:"absolute right-4 top-2 text-gray-400"},[e("i",{staticClass:"material-icons"},[this._v("search")])])}],!1,null,"f2e472b8",null);r.default=component.exports}}]);